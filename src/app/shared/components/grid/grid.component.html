<!--
@Author: Phillip Curl <PC>
@Date:   2016-05-13T21:21:49-04:00
@Email:  phillipcurl@gmail.com
@Project: Libations-Portal
@Last modified by:   PC
@Last modified time: 2016-05-13T21:26:21-04:00
-->

<!--<div>{{diagnostic}}</div>-->
<!--<div class="alert alert-info m-1" role="alert">
  <div class="checkbox">
    <label>
      <input type="checkbox" [(ngModel)]="liveEditing">
      <strong>Enable Live Editing</strong> Your changes will be saved whenever edits are made.
    </label>
  </div>
</div>-->
<div class="table-responsive">
  <table class="table table-hover">
    <tr>
      <td *ngFor="let col of columns"><div><a (click)="sort(col.name)">{{col.descr}}</a></div></td>
      <td *ngIf="isEditable" class="text-xs-center"><div>Edit</div></td>
    </tr>
    <tr *ngFor="let row of rows; let i = index" [class.bg-success]="lastSavedObject.id === row['id']">
      <td *ngFor="let col of columns">
        <div *ngIf="!isEditing || selectedId !== row['id']" (dblclick)="dblClick(row['id'])" (click)="tableClick()">{{row[col.name]}}</div>
        <div *ngIf="isEditable && (isEditing && selectedId === row['id'])">
          <input class="form-control form-control-sm" [(ngModel)]="tempObject[col.name]" (ngModelChange)="change($event)" />
        </div>
      </td>
      <td *ngIf="isEditable && (!isEditing || selectedId !== row['id'])" class="text-xs-center">
        <div>
          <i (click)="edit(row['id'])" class="fa fa-pencil fa-fw"></i>
          <i (click)="delete(row['id'])" class="fa fa-trash fa-fw"></i>
        </div>
      </td>
      <td *ngIf="isEditable && (isEditing && selectedId === row['id'])" class="text-xs-center">
        <div>
          <i (click)="save(row['id'])" class="fa fa-save fa-fw"></i>
          <i (click)="cancel(row['id'])" class="fa fa-times fa-fw"></i>
        </div>
      </td>
    </tr>
  </table>
</div>